{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Alessandra\\\\Documents\\\\SquadsFy\\\\squadsfy\\\\src\\\\componentes\\\\Player\\\\Search\\\\index.js\";\nimport React, { useState } from 'react';\nimport { Tabs, Tab, Form, Button } from 'react-bootstrap';\n\nfunction Search(props) {\n  const [album, setAlbum] = useState({});\n  const [artista, setArtista] = useState({});\n\n  async function handleSearchArtista() {\n    const found = await fetch(`http://ws.audioscrobbler.com/2.0/?method=artist.search&artist=${artista}&api_key=cfedf7f80f5776d69845ed9dd0b397e3&format=json`).then(response => {\n      if (response.ok) return response.json();\n    });\n    const artistas = found.results.artistmatches.artist;\n    props.found({\n      match: artistas,\n      title: \"Artistas encontrados\"\n    });\n    handleSaveSearch('artista', artista);\n  }\n\n  function handleSaveSearch(target, researched) {\n    let item = {\n      value: researched,\n      data: new Date(),\n      tipo: researched\n    };\n    let storage = localStorage.getItem(`@squadsFy/${target}`);\n    let lista = [];\n\n    if (storage) {\n      lista = JSON.parse(storage);\n      lista.push(item);\n    } else {\n      lista.push(item);\n    }\n\n    localStorage.setItem(`@squadsFy/${target}`, JSON.stringify(lista));\n  }\n\n  async function handleSearchAlbum() {\n    const found = await fetch(`http://ws.audioscrobbler.com/2.0/?method=album.search&album=${album}&api_key=cfedf7f80f5776d69845ed9dd0b397e3&format=json`).then(response => {\n      if (response.ok) return response.json();\n    });\n    const albuns = found.results.albummatches.album;\n    props.found({\n      match: albuns,\n      title: \"Álbuns encontrados\"\n    });\n    handleSaveSearch('album', album);\n  }\n\n  return /*#__PURE__*/React.createElement(Tabs, {\n    defaultActiveKey: \"artista\",\n    id: \"uncontrolled-tab-example\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Tab, {\n    eventKey: \"artista\",\n    title: \"Artista\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 25\n    }\n  }, \"Buscar por artista\"), /*#__PURE__*/React.createElement(Form.Control, {\n    onChange: event => setArtista(event.target.value),\n    placeholder: \"Digite o nome do artista\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    onClick: handleSearchArtista,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }, \"Buscar\"))), /*#__PURE__*/React.createElement(Tab, {\n    eventKey: \"album\",\n    title: \"Album\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 25\n    }\n  }, \"Buscar por album\"), /*#__PURE__*/React.createElement(Form.Control, {\n    onChange: event => setAlbum(event.target.value),\n    placeholder: \"Digite o nome do album\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    onClick: handleSearchAlbum,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }, \"Buscar\"))));\n}\n\nexport default Search;","map":{"version":3,"sources":["C:/Users/Alessandra/Documents/SquadsFy/squadsfy/src/componentes/Player/Search/index.js"],"names":["React","useState","Tabs","Tab","Form","Button","Search","props","album","setAlbum","artista","setArtista","handleSearchArtista","found","fetch","then","response","ok","json","artistas","results","artistmatches","artist","match","title","handleSaveSearch","target","researched","item","value","data","Date","tipo","storage","localStorage","getItem","lista","JSON","parse","push","setItem","stringify","handleSearchAlbum","albuns","albummatches","event"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { Tabs, Tab, Form, Button } from 'react-bootstrap';\r\n\r\nfunction Search(props) {\r\n    const [ album, setAlbum ] = useState({});\r\n    const [ artista, setArtista ] = useState({});\r\n\r\n    async function handleSearchArtista(){\r\n        const found = await fetch(`http://ws.audioscrobbler.com/2.0/?method=artist.search&artist=${artista}&api_key=cfedf7f80f5776d69845ed9dd0b397e3&format=json`)\r\n                                .then(response => {\r\n                                    if (response.ok)\r\n                                        return response.json();\r\n                                });\r\n        \r\n        const artistas = found.results.artistmatches.artist\r\n        props.found({match: artistas, title: \"Artistas encontrados\"});\r\n        \r\n        handleSaveSearch('artista', artista);\r\n  \r\n    }\r\n\r\n    function handleSaveSearch(target, researched){\r\n        let item = {\r\n            value: researched,\r\n            data: new Date(),\r\n            tipo: researched\r\n        }\r\n\r\n        let storage = localStorage.getItem(`@squadsFy/${target}`);\r\n        let lista = [];\r\n\r\n        if (storage){\r\n            lista = JSON.parse(storage);\r\n            lista.push(item);\r\n        } else {\r\n            lista.push(item);\r\n        }\r\n\r\n        localStorage.setItem(`@squadsFy/${target}`, JSON.stringify(lista));\r\n    }\r\n\r\n    async function handleSearchAlbum(){\r\n        const found = await fetch(`http://ws.audioscrobbler.com/2.0/?method=album.search&album=${album}&api_key=cfedf7f80f5776d69845ed9dd0b397e3&format=json`)\r\n                            .then(response => {\r\n                                if (response.ok)\r\n                                    return response.json()\r\n                            });\r\n\r\n        const albuns = found.results.albummatches.album;\r\n        props.found({match: albuns, title: \"Álbuns encontrados\"});\r\n\r\n        handleSaveSearch('album', album);          \r\n    }\r\n\r\n\r\n    return (\r\n        <Tabs defaultActiveKey=\"artista\" id=\"uncontrolled-tab-example\">\r\n            <Tab eventKey=\"artista\" title=\"Artista\">\r\n                <Form >\r\n                    <Form.Group>\r\n                        <Form.Label>Buscar por artista</Form.Label>\r\n                        <Form.Control onChange={event => setArtista(event.target.value)} placeholder=\"Digite o nome do artista\" />\r\n                    </Form.Group>\r\n                    <Button onClick={handleSearchArtista}>Buscar</Button>\r\n                </Form>\r\n            </Tab>\r\n            <Tab eventKey=\"album\" title=\"Album\">\r\n                <Form>\r\n                    <Form.Group>\r\n                        <Form.Label>Buscar por album</Form.Label>\r\n                        <Form.Control onChange={event => setAlbum(event.target.value)} placeholder=\"Digite o nome do album\" />\r\n                    </Form.Group>\r\n                    <Button onClick={handleSearchAlbum}>Buscar</Button>\r\n                </Form> \r\n            </Tab>\r\n        </Tabs>\r\n    );\r\n}\r\n\r\nexport default Search;"]},"metadata":{},"sourceType":"module"}